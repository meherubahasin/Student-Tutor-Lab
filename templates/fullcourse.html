<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>{{ course.code }} - {{ course.title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='single_course.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root{
        --primary: #0e141c;
            --accent: #4b88d8;
            --accent2: #607ea2;
            --light: #bdb3a3;
            --dark: #333;
            --white: #ffffff;
            --gray-light: #f5f5f5;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', 'Helvetica', 'Verdana', sans-serif;
        }

        body {
            background-color: white;
            color: var(--primary);
        }
        /* NAVBAR Start*/
.navbar {
    position: sticky;
    top: 0;
    width: 100%;
    height: 120px;
    display: flex;
    align-items: center;
    transition: 0.3s ease-out;
    background-color: var(--primary);
    color: white;
    padding: 2rem 3rem;
    display: flex;
    justify-content: space-between;
    z-index: 1000;
}

.logo {
    padding: 0 2.5rem;
    font-size: 1.5rem;
    font-weight: 800;
    color: skyblue;
    text-decoration: none;
}

.nav-list {
    list-style: none;
    display: flex;
    gap: 1.5rem;
    margin: 0;
    padding: 0 1.5rem;
    align-items: center;
}

.nav-list li {
    display: inline-block;
}

.nav-list li a {
    color: white;
    text-decoration: none;
    font-weight: 600;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    transition: all 0.3s ease;
    display: inline-block;
}

.nav-list li a:hover {
    background-color: var(--accent);
    color: black;
    border-radius: 30px;
}

.menu-toggle {
    display: none;
}

.hamburger {
    display: none;
    cursor: pointer;
    flex-direction: column;
    justify-content: space-between;
    width: 30px;
    height: 21px;
}

.hamburger span {
    display: block;
    height: 3px;
    width: 100%;
    background-color: var(--accent2);
    border-radius: 3px;
    transition: all 0.3s ease;
}

        
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    {% include 'navbar.html' %}
    
    <div class="course-container">
        
        <div class="select">
            <div class="course-header">
                <h1 class="course-code">{{ course.code }}</h1>
                <h2 class="course-title">{{ course.title }}</h2>
                
                <div class="course-stats">
                    <div class="stat-item">
                        <span class="stat-number">{{ course.lectures|length }}</span>
                        <span class="stat-label">Lectures</span>

                    </div>
                    <div class="stat-item">
                        <span class="stat-number">{{ course.STs|length }}</span>
                        <span class="stat-label">STs</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">{{ course.popquiz|length }}</span>
                        <span class="stat-label">Pop-quizzes</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">{{ course.qas|length }}</span>
                        <span class="stat-label">Resources</span>
                    </div>
                </div>
            </div>
        </div>
    </div>   
        
            <!-- Lectures -->
        <div class="dropdown">
          <input
            hidden=""
            class="sr-only"
            name="state-dropdown-1"
            id="state-dropdown-1"
            type="checkbox"
          />
          <label
            aria-label="dropdown scrollbar"
            for="state-dropdown-1"
            class="trigger">Lectures</label>
          
          <form class="list webkit-scrollbar" role="list" dir="auto" action="/viewcontent" method="POST">

            {%for item in course.lectures%}
              <div class="listitem" role="listitem">
                <input type="hidden" name="resource" value="lectures">
                <input type="hidden" name="course-code" value="{{course.code}}">
                <input type="hidden" name="index" value="{{course.lectures.index(item)}}">
                <button type="submit" name="" value="" class="article">
                  {{item}}
                </button>
              </div>
              {% if approved and type == "admin" %}
                      <form action="/delete_resources" style="padding-bottom: 23px; padding-left: 17px; margin-bottom: -5px; margin-top: -10px;" method="POST">
                          <input type="hidden" name="file_name" value="{{item}}">
                          <input type="hidden" name="course_code" value="{{course.code}}">
                          <input type="hidden" name="resource" value="lectures">
                          <button class="btn btn-danger">Delete</button>
                      </form>
              {%endif%}
            {%endfor%}
          </form>
          
          {% if approved and type == "admin" %}
              <form action="{{url_for('add_resources',course_code=course.code)}}" method="POST" enctype="multipart/form-data">
                <div class="input-group">
                  <input type="hidden" name="resource" value="lectures">
                  <input type="file" name="file" class="form-control" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
                  <button class="btn btn-outline-secondary" type="submit" id="inputGroupFileAddon04">Upload</button>
                </div>

              </form>
          {%endif%}
        </div>
            <!-- Resources -->
            <div class="dropdown">
                <input
                  hidden=""
                  class="sr-only"
                  name="state-dropdown-2"
                  id="state-dropdown-2"
                  type="checkbox"
                />
                <label
                  aria-label="dropdown scrollbar"
                  for="state-dropdown-2"
                  class="trigger">Resources</label>
              
                
                    
                  {%for item in course.qas%}
                    <form class="list webkit-scrollbar" role="list" dir="auto" action="/view_resource" method="POST">
                      <div class="listitem" role="listitem">
                        <input type="hidden" name="course_code" value="{{course.code}}">
                        <input type="hidden" name="file_name" value="{{item}}">
                        <button type="submit" class="article">
                          {{item}}
                        </button>
                      </div>
                    </form>

                    {% if approved or type == "admin" %}
                      <form action="/delete_resources" style="padding-bottom: 23px; padding-left: 17px; margin-bottom: -5px; margin-top: -10px;" method="POST">
                          <input type="hidden" name="file_name" value="{{item}}">
                          <input type="hidden" name="course_code" value="{{course.code}}">
                          <input type="hidden" name="resource" value="qas">
                          <button class="btn btn-danger">Delete</button>
                      </form>
                    {%endif%}

                  {%endfor%}
                  
                

              {% if approved or type == "admin" %}
              <form action="{{url_for('add_resources',course_code=course.code)}}" method="POST" enctype="multipart/form-data">
                <div class="input-group">
                  <input type="hidden" name="resource" value="qas">
                  <input type="file" name="file" class="form-control" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
                  <button class="btn btn-outline-secondary" type="submit" id="inputGroupFileAddon04">Upload</button>
                </div>

              </form>
              {%endif%}
              </div>



        <!-- Pop-quiz-->
              <div class="dropdown">
                <input
                  hidden=""
                  class="sr-only"
                  name="state-dropdown-3"
                  id="state-dropdown-3"
                  type="checkbox"
                />
                <label
                  aria-label="dropdown scrollbar"
                  for="state-dropdown-3"
                  class="trigger">Pop-quizzes</label>
              
                
                  {%for item in course.popquiz%}
                  
                    <form class="list webkit-scrollbar" role="list" dir="auto" action="#" method="POST">
                      <div class="listitem" role="listitem">
                        <p  class="article">{{item['q']}} <br>[marks:1]</p>
                      </div>
                    </form>
                  
                  {% if approved or type == "admin" %}
                  <form action="{{url_for('delete_quiz',course_code=course.code)}}" style="padding-bottom: 23px; padding-left: 17px; margin-bottom: -5px; margin-top: -10px;" method="POST">
                      <input type="hidden" name="question" value="{{item['q']}}">
                      <input type="hidden" name="st_answer" value="{{item['a']}}">
                      <button class="btn btn-danger">Delete</button>
                  </form>
                  {%endif%}
                  
                  {% if type == "student" %}
                  {%if item['q'] in answered_questions%}
    
                    {%if answers%}
                      {%for dicts in answers%}
                        {%if dicts['q']==item['q']%}
                        <div style="padding-bottom: 7px;margin-top: -20px;margin-left: 17px; margin-right: 10px;">
                          {%if dicts['a']==item['a']%}
                            <p style="padding-left: 20px; background-color: rgb(149, 255, 142);">marks achieved: 1/1</p>
                          {%else%}
                            <p style="padding-left: 20px; background-color: rgb(255, 143, 143);">marks achieved: 0/1 <br>correct answer: {{not(dicts['a'])}}</p>
                          {%endif%}
                        </div> 
                        {%endif%}
                        
                      {%endfor%}
                    {%endif%}
    
                  {%else%}
                    
                    
                    
                    <form action="{{url_for('submit_quiz',course_code=course.code)}}" style="padding-bottom: 23px; padding-left: 17px; margin-bottom: -5px; margin-top: -10px;" method="POST">
                      <input type="hidden" name="question" value="{{item['q']}}">
    
                      <div class="form-check form-check-inline" style="padding-top: 7px;">
                        <input class="form-check-input" type="radio" name="answer" id="inlineRadio1" value="True">
                        <label class="form-check-label" for="inlineRadio1">True</label>
                      </div>
                      <div class="form-check form-check-inline" style="padding-top: 7px;">
                        <input class="form-check-input" type="radio" name="answer" id="inlineRadio2" value="False">
                        <label class="form-check-label" for="inlineRadio2">False</label>
                      </div>
                        <button class="btn btn-danger">Submit</button>
                    </form>
                {%endif%}
                {%endif%}
                {%endfor%}
                
    
    
                {% if approved or type == "admin" %}
                  <form action="{{url_for('create_quiz',course_code=course.code)}}" method="POST" enctype="multipart/form-data" style="padding-left: 20px;">
                    <div class="input-group">
                      <input type="text" name="question" aria-label="Upload" style="margin-right: 20px;">
                      <div class="form-check form-check-inline" style="padding-top: 7px;">
                        <input class="form-check-input" type="radio" name="st_answer" id="inlineRadio1" value="True">
                        <label class="form-check-label" for="inlineRadio1">True</label>
                      </div>
                      <div class="form-check form-check-inline" style="padding-top: 7px;">
                        <input class="form-check-input" type="radio" name="st_answer" id="inlineRadio2" value="False">
                        <label class="form-check-label" for="inlineRadio2">False</label>
                      </div>
                      <button class="btn btn-outline-secondary" type="submit" id="inputGroupFileAddon04">Upload</button>
                    </div>
                  </form>
                {%endif%}
              </div>

    
</body>
</html>